(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){},129:function(e,t,a){e.exports=a(217)},160:function(e,t,a){},180:function(e,t,a){e.exports=a.p+"static/media/AtanasovLogoWhite.cf901960.png"},181:function(e,t,a){e.exports=a.p+"static/media/logo.9682c3b2.png"},184:function(e,t,a){},186:function(e,t,a){},188:function(e,t,a){},191:function(e,t,a){},193:function(e,t,a){},195:function(e,t,a){},200:function(e,t,a){},202:function(e,t,a){},204:function(e,t,a){},206:function(e,t,a){},208:function(e,t,a){},210:function(e,t,a){},214:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(110),l=a.n(c),o=a(33),i=a.n(o),s=a(52),u=a(4),m=a(19),d=a.n(m),p=(a(160),a(291)),E=a(282),v=a(294),f=a(295),b=a(296),g=a(60),h=a.n(g),y=a(37),O=a.n(y),j=a(36),w=a.n(j),C=a(75),N=a.n(C);function x(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],c=a[1];return[r,function(){c(!r)}]}function k(e){var t=e.email,a=e.password,n=e.login,c=e.register,l=e.setLoginPassword,o=e.setLoginEmail,i=e.setIsForgottenPassword,s={margin:"5px",width:"100%",height:"30%"},m=x(!1),d=Object(u.a)(m,2),g=d[0],y=d[1],j={cursor:"pointer"};return r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"Icon"},r.a.createElement(h.a,{style:{height:"80px",width:"80px",borderRadius:"100%",boxShadow:"1px 1px 10px -3px black",margin:"10px",backgroundColor:"white"}})),r.a.createElement("div",{className:"Inputs"},r.a.createElement(p.a,{variant:"button",fontSize:"1rem"},"\u041b\u043e\u0433\u0438\u0440\u0430\u0458 \u0441\u0435"),r.a.createElement(E.a,{style:s,label:"\u0415-\u043c\u0430\u0438\u043b",variant:"outlined",value:t,onChange:o,InputProps:{startAdornment:r.a.createElement(v.a,{position:"start"},r.a.createElement(N.a,null))}}),r.a.createElement(E.a,{style:s,label:"\u041b\u043e\u0437\u0438\u043d\u043a\u0430",variant:"outlined",type:g?"text":"password",value:a,onChange:l,InputProps:{startAdornment:r.a.createElement(v.a,{position:"start"},g?r.a.createElement(w.a,{style:j,onClick:y}):r.a.createElement(O.a,{style:j,onClick:y}))}}),r.a.createElement(f.a,{style:s,variant:"contained",onClick:n},"\u041b\u043e\u0433\u0438\u0440\u0430\u0458 \u0441\u0435"),r.a.createElement(b.a,{className:"Link",onClick:c,underline:"none"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0458 \u0441\u0435"),r.a.createElement(b.a,{className:"Link",onClick:i,underline:"none"},"\u0417\u0430\u0431\u043e\u0440\u0430\u0432\u0435\u043d\u0430 \u043b\u043e\u0437\u0438\u043d\u043a\u0430")))}var I={margin:"5px",width:"100%",height:"30%"},S={height:"80px",width:"80px",borderRadius:"100%",boxShadow:"1px 1px 10px -3px black",margin:"10px",backgroundColor:"white"},A={cursor:"pointer"};function D(e){var t=e.email,a=e.setEmail,n=e.password1,c=e.setPassword1,l=e.password2,o=e.setPassword2,i=e.register,s=e.login,m=x(!1),d=Object(u.a)(m,2),g=d[0],y=d[1],j=x(!1),C=Object(u.a)(j,2),k=C[0],D=C[1];return r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"Icon"},r.a.createElement(h.a,{style:S})),r.a.createElement("div",{className:"Inputs"},r.a.createElement(p.a,{variant:"button",fontSize:"1rem"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0458 \u0441\u0435"),r.a.createElement(E.a,{style:I,label:"\u0415-\u043c\u0430\u0438\u043b",type:"email",variant:"outlined",value:t,onChange:a,InputProps:{startAdornment:r.a.createElement(v.a,{position:"start"},r.a.createElement(N.a,null))}}),r.a.createElement(E.a,{style:I,label:"\u041b\u043e\u0437\u0438\u043d\u043a\u0430",variant:"outlined",type:g?"text":"password",value:n,onChange:c,InputProps:{startAdornment:r.a.createElement(v.a,{position:"start"},g?r.a.createElement(w.a,{style:A,onClick:y}):r.a.createElement(O.a,{style:A,onClick:y}))}}),r.a.createElement(E.a,{style:I,label:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438 \u043b\u043e\u0437\u0438\u043d\u043a\u0430",variant:"outlined",type:k?"text":"password",value:l,onChange:o,InputProps:{startAdornment:r.a.createElement(v.a,{position:"start"},k?r.a.createElement(w.a,{style:A,onClick:D}):r.a.createElement(O.a,{style:A,onClick:D}))}}),r.a.createElement(f.a,{style:I,variant:"contained",onClick:i},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0458 \u0441\u0435"),r.a.createElement(b.a,{className:"Link",onClick:s,underline:"none"},"\u041b\u043e\u0433\u0438\u0440\u0430\u0458 \u0441\u0435")))}function T(e){var t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],c=a[1];return[r,function(e){c(e.target.value)}]}var P=Object(n.createContext)({}),F=a(284);function L(e){var t=e.type,a=e.msg;return r.a.createElement("div",{className:"Flash",style:{padding:"0"}},r.a.createElement(F.a,{sx:{width:"80%"},severity:t},a))}var R={margin:"5px",width:"100%",height:"30%"},z={cursor:"pointer"};function W(e){var t=e.setEmail,a=e.back,n=e.submit,c=e.isSubmited,l=e.setIsSubmited,o=e.setPassword1,i=e.setPassword2,s=e.password1,m=e.password2,d=e.email,g=e.setCode,h=e.code,y=e.changePassword,j=x(!1),C=Object(u.a)(j,2),N=C[0],k=C[1],I=x(!1),S=Object(u.a)(I,2),A=S[0],D=S[1];return r.a.createElement("div",{className:"Form"},r.a.createElement("div",{className:"Inputs"},r.a.createElement(p.a,{variant:"button",fontSize:"1rem"},"\u0417\u0430\u0431\u043e\u0440\u0430\u0432\u0435\u043d\u0430 \u043b\u043e\u0437\u0438\u043d\u043a\u0430"),c?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{disabled:!0,style:R,label:"\u0412\u0430\u0448\u0438\u043e\u0442 \u0435\u043c\u0430\u0438\u043b",type:"text",value:d,variant:"outlined"}),r.a.createElement(E.a,{style:R,label:"\u041a\u043e\u0434",type:"text",variant:"outlined",onChange:g,value:h,helperText:"\u0412\u043d\u0435\u0441\u0435\u0442\u0435 \u0433\u043e \u043a\u043e\u0434\u043e\u0442 \u0448\u0442\u043e \u0433\u043e \u0434\u043e\u0431\u0438\u0432\u0442\u0435 \u0432\u043e \u0435\u043c\u0430\u0438\u043b"}),r.a.createElement(E.a,{style:R,label:"\u0412\u043d\u0435\u0441\u0435\u0442\u0435 \u0458\u0430 \u043d\u043e\u0432\u0430\u0442\u0430 \u043b\u043e\u0437\u0438\u043d\u043a\u0430",type:N?"text":"password",variant:"outlined",onChange:o,value:s,InputProps:{startAdornment:r.a.createElement(v.a,{position:"start"},N?r.a.createElement(w.a,{style:z,onClick:k}):r.a.createElement(O.a,{style:z,onClick:k}))}}),r.a.createElement(E.a,{style:R,label:"\u041f\u043e\u0432\u0442\u043e\u0440\u0435\u0442\u0435 \u0458\u0430 \u043d\u043e\u0432\u0430\u0442\u0430 \u043b\u043e\u0437\u0438\u043d\u043a\u0430",type:A?"text":"password",variant:"outlined",onChange:i,value:m,InputProps:{startAdornment:r.a.createElement(v.a,{position:"start"},A?r.a.createElement(w.a,{style:z,onClick:D}):r.a.createElement(O.a,{style:z,onClick:D}))}}),r.a.createElement(f.a,{style:R,variant:"contained",onClick:y},"\u041f\u043e\u0442\u0432\u0440\u0434\u0438"),r.a.createElement(b.a,{className:"Link",underline:"none",onClick:l},"\u041d\u0430\u0437\u0430\u0434")):r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{style:R,label:"\u0412\u043d\u0435\u0441\u0435\u0442\u0435 \u0433\u043e \u0432\u0430\u0448\u0438\u043e\u0442 \u0435\u043c\u0430\u0438\u043b",type:"text",variant:"outlined",onChange:t,value:d}),r.a.createElement(f.a,{style:R,variant:"contained",onClick:n},"\u041f\u043e\u0442\u0432\u0440\u0434\u0438"),r.a.createElement(b.a,{className:"Link",underline:"none",onClick:a},"\u041d\u0430\u0437\u0430\u0434"))))}function V(e){var t=e.flash,a=t.isOn,c=t.type,l=t.msg,o=Object(n.useContext)(P).flashPopUp,i=x(!0),s=Object(u.a)(i,2),m=s[0],p=s[1],E=x(!1),v=Object(u.a)(E,2),f=v[0],b=v[1],g=T(""),h=Object(u.a)(g,2),y=h[0],O=h[1],j=T(""),w=Object(u.a)(j,2),C=w[0],N=w[1],I=T(""),S=Object(u.a)(I,2),A=S[0],F=S[1],R=x(!1),z=Object(u.a)(R,2),V=z[0],U=z[1],M=T(""),_=Object(u.a)(M,2),B=_[0],H=_[1];return r.a.createElement("div",{className:"LoginSignup"},r.a.createElement("div",{className:"Flash"},a&&r.a.createElement(L,{type:c,msg:l})),f?r.a.createElement(W,{email:y,setEmail:O,back:b,submit:function(){var e=y.trim().toLowerCase();d.a.post("/api/changepassword",{email:e}).then(function(e){return o("success",e.data.msg)}).catch(function(e){return o("success",e.response.data.msg)}),U()},isSubmited:V,setIsSubmited:U,changePassword:function(){var e=y.trim().toLowerCase(),t={password1:C,password2:A,email:e,code:B};d.a.post("/api/changepassword/".concat(B),t).then(function(e){return o("success",e.data.msg)}).catch(function(e){return o("error",e.response.data.msg)}),U(),b()},setPassword1:N,setPassword2:F,password1:C,password2:A,code:B,setCode:H}):r.a.createElement(r.a.Fragment,null,m?r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{email:y,password:C,login:function(){var e={username:y.trim().toLowerCase(),password:C};d.a.post("/api/login",e).then(function(e){o("success",e.data.msg),window.location.reload()}).catch(function(e){return o("error","\u041f\u043e\u0433\u0440\u0435\u0448\u0435\u043d \u0435\u043c\u0430\u0438\u043b \u0438\u043b\u0438 \u043b\u043e\u0437\u0438\u043d\u043a\u0430")})},register:p,setLoginEmail:O,setLoginPassword:N,setIsForgottenPassword:b})):r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{password1:C,setPassword1:N,password2:A,setPassword2:F,email:y,setEmail:O,register:function(){var e=y.trim().toLowerCase(),t={password1:C,password2:A,email:e};!function(e){return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/gi.test(e)}(y)?o("error","\u0412\u0435 \u043c\u043e\u043b\u0438\u043c\u0435 \u0432\u043d\u0435\u0441\u0435\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u0430 \u0435\u043c\u0430\u0438\u043b \u0430\u0434\u0434\u0440\u0435\u0441\u0430"):d.a.post("/api/signup",t).then(function(e){o("success",e.data.msg),p(!0)}).catch(function(e){11e3===e.response.data.code?o("error","\u041a\u043e\u0440\u0438\u0441\u043d\u0438\u043a \u0441\u043e \u0438\u0441\u0442\u0438\u043e\u0442 \u0435\u043c\u0430\u0438\u043b \u0432\u0435\u045c\u0435 \u043f\u043e\u0441\u0442\u043e\u0438, \u0432\u0435 \u043c\u043e\u043b\u0438\u043c\u0435 \u043b\u043e\u0433\u0438\u0440\u0430\u0458\u0442\u0435 \u0441\u0435"):o("error",e.response.data.msg)})},login:p}))))}a(184);var U=a(278),M=a(279),_=a(289),B=a(95),H=a.n(B),Z=a(94),G=a.n(Z),q=a(96),J=a.n(q),Q=a(93),$=a.n(Q),K=a(26),X=a(12),Y=a(78);function ee(e){var t=e.cardFor,a=e.number;return r.a.createElement("div",{className:"Card"},r.a.createElement("span",{style:{textAlign:"center"}},t),r.a.createElement("span",{style:{paddingTop:"15px"}},a))}a(186);function te(){return r.a.createElement("div",{className:"InvoiceRow HeaderRow"},r.a.createElement("div",{className:"td seeInvoice"}),r.a.createElement("div",{className:"td client"},"\u041a\u043b\u0438\u0435\u043d\u0442"),r.a.createElement("div",{className:"td paymentDate"},"\u0420\u043e\u043a \u0437\u0430 \u043f\u043b\u0430\u045c\u0430\u045a\u0435"),r.a.createElement("div",{className:"td priceWithoutVAT"},"\u0426\u0435\u043d\u0430 \u0431\u0435\u0437 \u0414\u0414\u0412"),r.a.createElement("div",{className:"td VAT"},"\u0414\u0414\u0412"),r.a.createElement("div",{className:"td total"},"\u0412\u0440\u0435\u0434\u043d\u043e\u0441\u0442 \u043d\u0430 \u0444\u0430\u043a\u0442\u0443\u0440\u0430\u0442\u0430"),r.a.createElement("div",{className:"td payed"}),r.a.createElement("div",{className:"td delete"}))}var ae=a(171),ne=a.n(ae),re=a(79),ce=a.n(re),le=a(173),oe=a.n(le),ie=a(172),se=a.n(ie),ue=a(297);function me(e){var t=e.id,a=e.client,n=e.paymentDate,c=e.priceWithoutVAT,l=e.VAT,o=e.total,i=e.payed,s=e.changePaymentStatus,u=e.deleteInvoice,m=Object(X.f)();return r.a.createElement("div",{className:"InvoiceRow TableDataRow",style:i?{backgroundColor:"#aeff78"}:{backgroundColor:"#fc5151"}},r.a.createElement("div",{className:"td seeInvoice borderOnDesktop"},r.a.createElement(ue.a,{onClick:function(){m("/invoice/".concat(t))}},r.a.createElement(ne.a,null))),r.a.createElement("div",{className:"td client borderOnDesktop"},a),r.a.createElement("div",{className:"td paymentDate borderOnDesktop"},n),r.a.createElement("div",{className:"td priceWithoutVAT borderOnDesktop"},parseInt(c).toFixed(1)),r.a.createElement("div",{className:"td VAT borderOnDesktop"},parseInt(l).toFixed(1)),r.a.createElement("div",{className:"td total borderOnDesktop"},parseInt(o).toFixed(1)),r.a.createElement("div",{className:"td payed borderOnDesktop"},r.a.createElement(ue.a,{onClick:function(e){return function(){s(e)}}(t)},i?r.a.createElement(se.a,null):r.a.createElement(oe.a,null))),r.a.createElement("div",{className:"td delete"},r.a.createElement(ue.a,{onClick:function(e){return function(){u(e)}}(t)},r.a.createElement(ce.a,null))))}a(188);function de(){return r.a.createElement("div",{className:"Loader"},r.a.createElement("div",{className:"circle"}),r.a.createElement("div",{className:"circle"}),r.a.createElement("div",{className:"circle"}),r.a.createElement("div",{className:"circle"}),r.a.createElement("div",{className:"circle"}))}var pe=a(216);function Ee(){var e=Object(n.useContext)(P).flashPopUp,t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!0),m=Object(u.a)(o,2),p=m[0],E=m[1],v=Object(n.useState)(0),f=Object(u.a)(v,2),b=f[0],g=f[1],h=Object(n.useState)(0),y=Object(u.a)(h,2),O=y[0],j=y[1],w=Object(n.useState)(0),C=Object(u.a)(w,2),N=C[0],x=C[1],k=Object(n.useState)(0),I=Object(u.a)(k,2),S=I[0],A=I[1],D=Object(n.useState)(0),T=Object(u.a)(D,2),F=T[0],L=T[1],R=new pe.a;Object(n.useEffect)(function(){d.a.get("/api/allinvoices").then(function(e){l(e.data),E()}).catch(function(t){e("warning",t.response.data.msg),E()})},[]),Object(n.useEffect)(function(){var e=function(e){var t=e.map(function(e){return e.total.totalVAT}).reduce(function(e,t){return parseInt(e)+parseInt(t)},0),a=e.map(function(e){return e.total.totalWithoutVAT}).reduce(function(e,t){return parseInt(e)+parseInt(t)},0),n=e.filter(function(e){return!e.payed}).map(function(e){return e.total.total}).reduce(function(e,t){return parseInt(e)+parseInt(t)},0),r=e.filter(function(e){return!0===e.payed}).map(function(e){return e.total.total}).reduce(function(e,t){return parseInt(e)+parseInt(t)},0);return{totalVAT:t,totalUnpayed:n,unpayed:e.filter(function(e){return!e.payed}).length,totalPayed:r,totalWithoutVAT:a}}(c),t=e.totalVAT,a=e.totalUnpayed,n=e.unpayed,r=e.totalPayed,l=e.totalWithoutVAT;j(t),x(a),g(n),L(l),A(r)},[c]);var z=function(){var t=Object(s.a)(i.a.mark(function t(a){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n={id:a},d.a.post("/api/invoicepayed",n).then(function(t){l(c.map(function(e){return e._id===a?Object(Y.a)({},e,{payed:t.data.isPayed}):e})),e("success",t.data.msg)}).catch(function(t){return e("error",t.response.data.msg)});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),W=function(){var t=Object(s.a)(i.a.mark(function t(a){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n={id:a},d.a.post("/api/deleteinvoice",n).then(function(t){l(c.filter(function(e){return e._id!==a})),e("success",t.data.msg)}).catch(function(t){return e("error",t.response.data.msg)});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"Home"},p?r.a.createElement(de,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Cards"},r.a.createElement(ee,{className:"Cards",cardFor:"\u041d\u0435\u043d\u0430\u043f\u043b\u0430\u0442\u0435\u043d\u0438 \u0444\u0430\u043a\u0442\u0443\u0440\u0438",number:b}),r.a.createElement(ee,{className:"Cards",cardFor:"\u0414\u0430\u043d\u043e\u043a",number:O}),r.a.createElement(ee,{className:"Cards",cardFor:"\u0417\u0430 \u043d\u0430\u043f\u043b\u0430\u0442\u0430",number:N}),r.a.createElement(ee,{className:"Cards",cardFor:"\u041d\u0430\u043f\u043b\u0430\u0442\u0435\u043d\u043e",number:S}),r.a.createElement(ee,{className:"Cards",cardFor:"\u041f\u0440\u043e\u0444\u0438\u0442",number:F})),r.a.createElement("div",{className:"InvoicesTable"},r.a.createElement("div",{className:"DesktopHeader"},r.a.createElement(te,null)),c.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"HeaderAndTableRowsForSmallScreen"},r.a.createElement("div",{className:"SmallScreenHeader"},r.a.createElement(te,null)),r.a.createElement(me,{id:e._id,key:e._id,client:e.clientInfo&&e.clientInfo.name,paymentDate:R.format(Date.parse(e.invoiceInfo.paymentDate),"keyboardDate"),priceWithoutVAT:e.total.totalWithoutVAT,VAT:e.total.totalVAT,total:e.total.total,payed:e.payed,changePaymentStatus:z,deleteInvoice:W})))}))))}var ve=a(17),fe=(a(109),a(176)),be=a.n(fe),ge=a(175),he=a.n(ge);function ye(e){var t=e.plusTotal,a=e.id,c=e.minusTotal,l=e.rowRemove,o=e.rowNum,i=e.dbItem,s=void 0===i?"":i,m=e.dbMeasurment,d=void 0===m?"":m,p=e.dbPrice,E=void 0===p?"":p,v=e.dbQuantity,f=void 0===v?"":v,b=e.dbVAT,g=void 0===b?"":b,h=T(s),y=Object(u.a)(h,2),O=y[0],j=y[1],w=T(d),C=Object(u.a)(w,2),N=C[0],k=C[1],I=T(E),S=Object(u.a)(I,2),A=S[0],D=S[1],F=T(f),L=Object(u.a)(F,2),R=L[0],z=L[1],W=T(g),V=Object(u.a)(W,2),U=V[0],M=V[1],_=x(!0),B=Object(u.a)(_,2),H=B[0],Z=B[1],G=Object(n.useState)(0),q=Object(u.a)(G,2),J=q[0],Q=q[1],$=Object(n.useState)(0),K=Object(u.a)($,2),X=K[0],Y=K[1],ee=Object(n.useState)(0),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useContext)(P),le=re.getRowData,oe=re.removeRowData,ie=re.isRowEditing,se=re.isRowDeleted;return Object(n.useEffect)(function(){ie(H,a)},[H]),r.a.createElement("div",{className:"Row",key:a},r.a.createElement("div",{className:"td rowNum"},o),r.a.createElement("div",{className:"td item"},H?r.a.createElement("input",{type:"text",value:O,onChange:j}):r.a.createElement("span",null,O)),r.a.createElement("div",{className:"td measurment"},H?r.a.createElement("input",{type:"text",value:N,onChange:k}):r.a.createElement("span",null,N)),r.a.createElement("div",{className:"td price"},H?r.a.createElement("input",{type:"number",value:A,onChange:D}):r.a.createElement("span",null,A)),r.a.createElement("div",{className:"td quantity"},H?r.a.createElement("input",{type:"number",value:R,onChange:z}):r.a.createElement("span",null,R)),r.a.createElement("div",{className:"td priceWithoutVAT"},r.a.createElement("span",null,J.toFixed(2))),r.a.createElement("div",{className:"td VAT"},H?r.a.createElement("input",{type:"number",value:U,onChange:M}):r.a.createElement("span",null,U)),r.a.createElement("div",{className:"td totalVAT"},r.a.createElement("span",null,X.toFixed(2))),r.a.createElement("div",{className:"td total"},r.a.createElement("span",null,ae.toFixed(2))),r.a.createElement("div",{className:"td edit"},r.a.createElement(ue.a,{onClick:function(){H?(Q(R*A),Y(A/100*U*R),ne(A/100*U*R+R*A),Z(),t(A/100*U*R+R*A,A/100*U*R,R*A),le({id:a,item:O,measurment:N,price:A,quantity:R,VAT:U},H)):H||(Z(),Q(0),Y(0),ne(0),oe(a),c(ae,X,J))}},H?r.a.createElement(he.a,null):r.a.createElement(be.a,null))),r.a.createElement("div",{className:"td delete"},r.a.createElement(ue.a,{onClick:function(e){return function(){se(e),l(e),c(ae,X,J)}}(a)},r.a.createElement(ce.a,null))))}function Oe(){return r.a.createElement("div",{className:"Header"},r.a.createElement("div",{className:"td rowNum"},"\u0420\u0435\u0434. \u0431\u0440\u043e\u0458"),r.a.createElement("div",{className:"td item"},"\u041e\u043f\u0438\u0441"),r.a.createElement("div",{className:"td measurment"},"\u0415\u0434\u0438\u043d\u0435\u0447\u043d\u0430 \u043c\u0435\u0440\u043a\u0430"),r.a.createElement("div",{className:"td price"},"\u0426\u0435\u043d\u0430"),r.a.createElement("div",{className:"td quantity"},"\u041a\u043e\u043b\u0438\u0447\u0438\u043d\u0430"),r.a.createElement("div",{className:"td priceWithoutVAT"},"\u0426\u0435\u043d\u0430 \u0431\u0435\u0437 \u0414\u0414\u0412"),r.a.createElement("div",{className:"td VAT"},"\u0414\u0414\u0412"),r.a.createElement("div",{className:"td totalVAT"},"\u041f\u0440\u0435\u0441\u043c\u0435\u0442\u0430\u043d \u0414\u0414\u0412"),r.a.createElement("div",{className:"td total"},"\u0412\u043a\u0443\u043f\u043d\u043e"),r.a.createElement("div",{className:"td edit"}),r.a.createElement("div",{className:"td delete"}))}a(191),a(193);var je=a(177),we=a.n(je),Ce=a(178),Ne=a.n(Ce);function xe(e){var t=e.allTotal,a=e.addRow,n=e.resetRows;return r.a.createElement("div",{className:"Footer"},r.a.createElement("div",{className:"reset"},r.a.createElement(ue.a,{onClick:n},r.a.createElement(we.a,null))),r.a.createElement("div",{className:"empty"}),r.a.createElement("div",{className:"allTotal"},r.a.createElement("span",null,"\u0412\u043a\u0443\u043f\u043d\u043e: "),r.a.createElement("span",null,t.toFixed(2))),r.a.createElement("div",{className:"add"},r.a.createElement(ue.a,{onClick:a},r.a.createElement(Ne.a,null))))}var ke=a(286);function Ie(e){var t=e.getAllTotals,a=e.products,c=e.setRowsStatus,l=Object(n.useState)(0),o=Object(u.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)(0),d=Object(u.a)(m,2),p=d[0],E=d[1],v=Object(n.useState)(0),f=Object(u.a)(v,2),b=f[0],g=f[1],h=function(e,t,a){s(function(t){return t+e}),E(function(e){return e+t}),g(function(e){return e+a})},y=function(e,t,a){s(function(t){return t-e}),E(function(e){return e-t}),g(function(e){return e-a})},O=function(){x([r.a.createElement(ye,{plusTotal:h,minusTotal:y,rowRemove:j,id:Object(ke.a)(),key:Object(ke.a)(),rowNum:1})])},j=function(e){x(function(t){return Object(ve.a)(t.filter(function(t){return t.props.id!==e}))})},w=Object(n.useState)([]),C=Object(u.a)(w,2),N=C[0],x=C[1];return Object(n.useEffect)(function(){a.length>0?x(a.map(function(e,t){return r.a.createElement(ye,{plusTotal:h,minusTotal:y,rowRemove:j,id:e.id,key:e.id,rowNum:t+1,dbItem:e.item,dbVAT:e.VAT,dbMeasurment:e.measurment,dbPrice:e.price,dbQuantity:e.quantity,dbIsEditing:!1})})):O()},[a]),Object(n.useEffect)(function(){t({allTotal:i,allTotalVAT:p,allTotalWithoutVAT:b})},[i,p,b]),r.a.createElement("div",{className:"InvoiceTable"},r.a.createElement(Oe,null),N,r.a.createElement(xe,{addRow:function(){x(function(e){return[].concat(Object(ve.a)(e),[r.a.createElement(ye,{plusTotal:h,minusTotal:y,rowRemove:j,id:Object(ke.a)(),key:Object(ke.a)(),rowNum:e.length+1})])})},allTotal:i,resetRows:function(){s(0),E(0),g(0),c([]),O()}}))}a(195);var Se=a(281),Ae=a(197),De=a(280);function Te(e){var t=e.getClientAndInvoiceData,a=e.flashPopUp,c=e.fetchedInvoiceData,l=(e.id,new Date),o=new Date,i=new Date(o.setDate(o.getDate()+90)),s=Object(n.useState)(""),m=Object(u.a)(s,2),p=m[0],v=m[1],f=Object(n.useState)(""),b=Object(u.a)(f,2),g=b[0],h=b[1],y=Object(n.useState)(""),O=Object(u.a)(y,2),j=O[0],w=O[1],C=Object(n.useState)(""),N=Object(u.a)(C,2),x=N[0],k=N[1],I=Object(n.useState)(""),S=Object(u.a)(I,2),A=S[0],D=S[1],T=Object(n.useState)(l.toLocaleDateString("en-CA")),P=Object(u.a)(T,2),F=P[0],L=P[1],R=Object(n.useState)(l.toLocaleDateString("en-CA")),z=Object(u.a)(R,2),W=z[0],V=z[1],U=Object(n.useState)(i.toLocaleDateString("en-CA")),M=Object(u.a)(U,2),_=M[0],B=M[1],H=Object(n.useState)([]),Z=Object(u.a)(H,2),G=Z[0],q=Z[1];Object(n.useEffect)(function(){t({clientName:p,address:g,tel:j,email:x,invoiceNumber:A,dateOfExecution:F,dateOfIssuing:W,paymentDate:_})},[p,g,j,x,A,F,W,_]),Object(n.useEffect)(function(){d.a.get("/api/clients").then(function(e){return q(e.data)}).catch(function(e){return a("error",e.data.response.msg)})},[]),Object(n.useEffect)(function(){var e=G.filter(function(e){return e.name===p});e.length>0&&e.map(function(e){h(e.address),w(e.tel),k(e.email)})},[p]),Object(n.useEffect)(function(){if(c.clientInfo&&c.invoiceInfo){var e=c.clientInfo,t=e.name,a=e.tel,n=e.email,r=e.address;v(t),w(a),k(n),h(r);var l=c.invoiceInfo,o=l.invoiceNumber,i=l.executionDate,s=l.issuingDate,u=l.paymentDate;L(i),V(s),D(o),B(u)}},[c]);var J={margin:"5px 0px 5px 0px",width:"100%"},Q={margin:"5px 0px 5px 0px",width:"100%"};return r.a.createElement("div",{className:"ClientAndInvoiceInfo"},r.a.createElement("div",{className:"ClientInfo"},r.a.createElement(Se.a,{onChange:function(e,t){return v(t)},value:p,freeSolo:!0,id:"free-solo-2-demo",disableClearable:!0,options:G.map(function(e){return e.name}),size:"small",style:J,renderInput:function(e){return r.a.createElement(E.a,Object.assign({type:"text",value:p,onChange:function(e){return v(e.target.value)}},e,{placeholder:"\u0418\u043c\u0435 \u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0442",InputProps:Object(Y.a)({},e.InputProps)}))}}),r.a.createElement(E.a,{type:"text",size:"small",style:J,value:g,onChange:function(e){return h(e.target.value)},placeholder:"\u0410\u0434\u0440\u0435\u0441\u0430"}),r.a.createElement(E.a,{type:"text",className:"clientInfoInputs",size:"small",style:J,value:j,onChange:function(e){return w(e.target.value)},placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u0441\u043a\u0438 \u0431\u0440\u043e\u0458"}),r.a.createElement(E.a,{type:"text",className:"clientInfoInputs",size:"small",style:J,value:x,onChange:function(e){return k(e.target.value)},placeholder:"\u0415-\u043c\u0430\u0438\u043b"})),r.a.createElement("div",{className:"InvoiceInfo"},r.a.createElement(E.a,{type:"text",className:"clientInfoInputs",size:"small",style:Q,value:A,onChange:function(e){return D(e.target.value)},placeholder:"\u0411\u0440\u043e\u0458 \u043d\u0430 \u0444\u0430\u043a\u0442\u0443\u0440\u0430"}),r.a.createElement(Ae.a,{dateAdapter:pe.a},r.a.createElement(De.a,{label:"\u0414\u0430\u0442\u0443\u043c \u043d\u0430 \u0438\u0437\u0432\u0440\u0448\u0435\u043d \u043f\u0440\u043e\u043c\u0435\u0442",inputFormat:"dd-MM-yyyy",value:F,onChange:function(e){return L(e.toLocaleDateString("en-CA"))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{size:"small",style:Q}))}}),r.a.createElement(De.a,{label:"\u0414\u0430\u0442\u0443\u043c \u043d\u0430 \u0438\u0437\u0434\u0430\u0432\u0430\u045a\u0435",inputFormat:"dd-MM-yyyy",value:W,onChange:function(e){return V(e.toLocaleDateString("en-CA"))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{size:"small",style:Q}))}}),r.a.createElement(De.a,{label:"\u0420\u043e\u043a \u0437\u0430 \u043f\u043b\u0430\u045c\u0430\u045a\u0435",inputFormat:"dd-MM-yyyy",value:_,onChange:function(e){return B(e.toLocaleDateString("en-CA"))},renderInput:function(e){return r.a.createElement(E.a,Object.assign({},e,{size:"small",style:Q}))}}))))}a(200);function Pe(e){var t=e.companyInfo,a=t.name,n=t.address,c=t.telephone,l=t.mail,o=t.bankAcc,i=t.tax,s=t.logo,m=T(a),d=Object(u.a)(m,2),p=d[0],E=d[1],v=T(n),f=Object(u.a)(v,2),b=f[0],g=f[1],h=T(c),y=Object(u.a)(h,2),O=y[0],j=y[1],w=T(l),C=Object(u.a)(w,2),N=C[0],x=C[1],k=T(o),I=Object(u.a)(k,2),S=I[0],A=I[1],D=T(i),P=Object(u.a)(D,2),F=P[0],L=P[1];return r.a.createElement("div",{className:"CompanyInfo"},r.a.createElement("div",{className:"InputGroup"},r.a.createElement("input",{type:"text",value:p,onChange:E,placeholder:"\u0418\u043c\u0435 \u043d\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0458\u0430\u0442\u0430"}),r.a.createElement("input",{type:"text",value:b,onChange:g,placeholder:"\u0410\u0434\u0440\u0435\u0441\u0430 \u043d\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0458\u0430\u0442\u0430"}),r.a.createElement("input",{type:"text",value:O,onChange:j,placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u0441\u043a\u0438 \u0431\u0440\u043e\u0458"})),r.a.createElement("div",{className:"InputGroup"},r.a.createElement("input",{type:"text",value:N,onChange:x,placeholder:"\u0415-\u043c\u0430\u0438\u043b"}),r.a.createElement("input",{type:"text",value:S,onChange:A,placeholder:"\u0416\u0438\u0440\u043e \u0441\u043c\u0435\u0442\u043a\u0430"}),r.a.createElement("input",{type:"text",value:F,onChange:L,placeholder:"\u0414\u0430\u043d\u043e\u0447\u0435\u043d \u0431\u0440\u043e\u0458"})),r.a.createElement("div",{className:"LogoDiv"},s&&r.a.createElement("img",{src:s,alt:"CompanyLogo",className:"Logo"})))}a(202);var Fe=a(82),Le=a.n(Fe);function Re(e){var t=e.filter(function(e){return!0===e.state});return!(0===e.length||t.length>0)}var ze=a(179),We=a.n(ze);function Ve(){var e=Object(n.useContext)(P),t=e.flashPopUp,a=e.user,c=Object(n.useState)(!0),l=Object(u.a)(c,2),o=l[0],m=l[1],p=Object(X.f)(),E=Object(X.g)().id,v=Object(n.useState)([]),b=Object(u.a)(v,2),g=b[0],h=b[1],y=Object(n.useState)({}),O=Object(u.a)(y,2),j=O[0],w=O[1],C=Object(n.useState)([]),N=Object(u.a)(C,2),x=N[0],k=N[1],I=Object(n.useState)(""),S=Object(u.a)(I,2),A=S[0],D=S[1],T=Object(n.useState)(""),F=Object(u.a)(T,2),L=F[0],R=F[1],z=Object(n.useState)([]),W=Object(u.a)(z,2),V=W[0],U=W[1],M=function(){var e=Object(s.a)(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a={allRowsData:x,allTotals:L,clientAndInvoiceData:A},Re(V)?d.a.post("/api/savenewinvoice",a).then(function(e){p("/invoice/".concat(e.data.id)),t("success",e.data.msg)}).catch(function(e){t("error",e.response.data.msg)}):t("warning","\u0412\u0435 \u043c\u043e\u043b\u0438\u043c\u0435 \u043f\u043e\u0442\u0432\u0440\u0434\u0435\u0442\u0435 \u0433\u0438 \u0441\u0438\u0442\u0435 \u0430\u0440\u0442\u0438\u043a\u043b\u0438 \u0432\u043e \u0444\u0430\u043a\u0442\u0443\u0440\u0430\u0442\u0430, \u0438\u043b\u0438 \u0434\u043e\u0434\u0430\u0458\u0442\u0435 \u0430\u0440\u0442\u0438\u043a\u043b");case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(s.a)(i.a.mark(function e(){var a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=j._id,n={allRowsData:x,allTotals:L,_id:a,clientAndInvoiceData:A},Re(V)?d.a.post("/api/saveeditedinvoice",n).then(function(e){return t("success",e.data.msg)}).catch(function(e){return t("error",e.response.data.msg)}):t("warning","\u0412\u0435 \u043c\u043e\u043b\u0438\u043c\u0435 \u043f\u043e\u0442\u0432\u0440\u0434\u0435\u0442\u0435 \u0433\u0438 \u0441\u0438\u0442\u0435 \u0430\u0440\u0442\u0438\u043a\u043b\u0438 \u0432\u043e \u0444\u0430\u043a\u0442\u0443\u0440\u0430\u0442\u0430, \u0438\u043b\u0438 \u0434\u043e\u0434\u0430\u0458\u0442\u0435 \u0430\u0440\u0442\u0438\u043a\u043b");case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){(function(){var e=Object(s.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:E?(U([]),d.a.get("/api/getinvoice/".concat(E)).then(function(e){h(e.data.products),w(e.data),U([]),m(!1)}).catch(function(e){t("error",e.response.data.msg),m(!1)})):m(!1);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[E,t]);var B={name:a.companyName,address:a.address,telephone:a.tel,mail:a.username,bankAcc:a.bankAccount,tax:a.taxNumber,logo:a.logo.path};return r.a.createElement("div",{className:"Invoice"},o?r.a.createElement(de,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(P.Provider,{value:{getRowData:function(e){k([].concat(Object(ve.a)(x),[e]))},removeRowData:function(e){k(Object(ve.a)(x.filter(function(t){return t.id!==e})))},companyInfo:B,isRowEditing:function(e,t){var a={state:e,id:t};U(function(e){return[].concat(Object(ve.a)(e.filter(function(e){return e.id!==t})),[a])})},isRowDeleted:function(e){U(function(t){return Object(ve.a)(t.filter(function(t){return t.id!==e}))})}}},r.a.createElement(Pe,{companyInfo:B}),r.a.createElement(Te,{getClientAndInvoiceData:function(e){D(e)},flashPopUp:t,fetchedInvoiceData:j,id:E}),r.a.createElement(Ie,{products:g,getAllTotals:function(e){R(e)},setRowsStatus:U})),E?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"BottomBtns"},r.a.createElement(f.a,{onClick:M,variant:"contained",size:"small",color:"success",endIcon:r.a.createElement(Le.a,null)},"\u0417\u0430\u0447\u0443\u0432\u0430\u0458 \u043a\u0430\u043a\u043e \u043d\u043e\u0432\u0430 \u0444\u0430\u043a\u0442\u0443\u0440\u0430"),r.a.createElement(f.a,{onClick:function(){Re(V)?window.print():t("warning","\u0412\u0435 \u043c\u043e\u043b\u0438\u043c\u0435 \u043f\u043e\u0442\u0432\u0440\u0434\u0435\u0442\u0435 \u0433\u0438 \u0441\u0438\u0442\u0435 \u0430\u0440\u0442\u0438\u043a\u043b\u0438 \u0432\u043e \u0444\u0430\u043a\u0442\u0443\u0440\u0430\u0442\u0430, \u0438\u043b\u0438 \u0434\u043e\u0434\u0430\u0458\u0442\u0435 \u0430\u0440\u0442\u0438\u043a\u043b")},variant:"contained",size:"small",endIcon:r.a.createElement(We.a,null)},"\u041f\u0440\u0438\u043d\u0442"),r.a.createElement(f.a,{onClick:_,variant:"contained",size:"small",color:"secondary",endIcon:r.a.createElement(Le.a,null)},"\u0417\u0430\u0447\u0443\u0432\u0430\u0458 \u0458\u0430 \u043f\u0440\u043e\u043c\u0435\u043d\u0430\u0442\u0430"))):r.a.createElement("div",{className:"SaveBtnDiv"},r.a.createElement(f.a,{onClick:M,variant:"contained",color:"success",className:"button",size:"small",endIcon:r.a.createElement(Le.a,null)},"\u0417\u0430\u0447\u0443\u0432\u0430\u0458"))))}function Ue(){d.a.post("/api/logout"),window.location.reload()}a(204);function Me(e){var t=e.flash,a={margin:"10px",width:"100%",height:"30%"},c=Object(n.useContext)(P),l=c.flashPopUp,o=c.user,i=t.isOn,s=t.type,m=t.msg,v=T(""),g=Object(u.a)(v,2),y=g[0],O=g[1];return r.a.createElement("div",{className:"Verification"},r.a.createElement("div",{className:"Flash"},i&&r.a.createElement(L,{type:s,msg:m})),r.a.createElement("div",{className:"Form"},r.a.createElement(h.a,{style:{height:"80px",width:"80px",borderRadius:"100%",boxShadow:"1px 1px 10px -3px black",margin:"10px",backgroundColor:"white"}}),r.a.createElement("div",{className:"Inputs",style:{width:"30%"}},r.a.createElement(p.a,{style:{width:"100%"},align:"center",variant:"subtitle1"},"\u041f\u0440\u043e\u0432\u0435\u0440\u0435\u0442\u0435 \u0433\u043e \u0432\u0430\u0448\u0438\u043e\u0442 \u0435\u043c\u0430\u0438\u043b \u201e",o.username,"\u201c \u043a\u0430\u0434\u0435 \u0432\u0438 \u0438\u0441\u043f\u0440\u0430\u0442\u0438\u0432\u043c\u0435 \u043a\u043e\u0434 \u0437\u0430 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0458\u0430, \u0434\u043e\u043a\u043e\u043b\u043a\u0443 \u043c\u0435\u0458\u043b\u043e\u0442 \u043d\u0435 \u0435 \u0432\u043e \u201einbox\u201c, \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u0442\u0435 \u0432\u043e \u201espam\u201c. \u041f\u043e\u043d\u0435\u043a\u043e\u0433\u0430\u0448 \u043f\u043e\u0442\u0440\u0435\u0431\u043d\u043e \u0435 \u043f\u043e\u0432\u0435\u045c\u0435 \u0432\u0440\u0435\u043c\u0435 \u0435\u043c\u0430\u0438\u043b\u043e\u0442 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0438\u0441\u043f\u0440\u0430\u0442\u0435\u043d."),r.a.createElement(E.a,{style:a,label:"\u0412\u043d\u0435\u0441\u0435\u0442\u0435 \u0433\u043e \u043a\u043e\u0434\u043e\u0442 \u0437\u0430 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0458\u0430",type:"text",variant:"outlined",value:y,onChange:O}),r.a.createElement(f.a,{style:a,variant:"contained",onClick:function(){var e={code:y};d.a.post("/api/verify",e).then(function(e){l("success",e.data.msg),window.location.reload()}).catch(function(e){return l("error",e.response.data.msg)})}},"\u041f\u043e\u0442\u0432\u0440\u0434\u0438"),r.a.createElement(b.a,{className:"Link",onClick:function(){d.a.get("/api/sendcodeagain").then(function(e){l("success",e.data.msg),window.location.reload()}).catch(function(e){return l("error",e.response.data.msg)})},underline:"none"},"\u0418\u0441\u043f\u0440\u0430\u0442\u0438 \u0433\u043e \u043a\u043e\u0434\u043e\u0442 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e"),r.a.createElement(f.a,{style:a,variant:"outlined",color:"warning",onClick:function(){d.a.post("/api/logout").then(function(e){window.location.reload()}).catch(function(e){return l("error",e.response.data.msg)})}},"\u041e\u0434\u043b\u043e\u0433\u0438\u0440\u0430\u0458 \u0441\u0435"))))}a(206);var _e=a(299);function Be(e){var t=e.inputsStyle,a=e.user,c=e.submit,l=e.flashPopUp,o=Object(n.useState)(""),i=Object(u.a)(o,2),s=i[0],m=i[1],d=Object(n.useState)(""),p=Object(u.a)(d,2),v=p[0],b=p[1],g=Object(n.useState)(""),h=Object(u.a)(g,2),y=h[0],O=h[1],j=Object(n.useState)(""),w=Object(u.a)(j,2),C=w[0],N=w[1],x=Object(n.useState)(""),k=Object(u.a)(x,2),I=k[0],S=k[1],A=Object(n.useState)(),D=Object(u.a)(A,2),T=D[0],P=D[1];return Object(n.useEffect)(function(){m(a.companyName),b(a.address),O(a.tel),N(a.bankAccount),S(a.taxNumber)},[a]),r.a.createElement("div",{className:"InputRows"},r.a.createElement("div",{className:"InputGroups"},r.a.createElement(E.a,{variant:"outlined",label:"\u0418\u043c\u0435 \u043d\u0430 \u0432\u0430\u0448\u0430\u0442\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0458\u0430",value:s,onChange:function(e){return m(e.target.value)},type:"text",fullWidth:!0,style:t}),r.a.createElement(E.a,{variant:"outlined",label:"\u0410\u0434\u0440\u0435\u0441\u0430",value:v,onChange:function(e){return b(e.target.value)},type:"text",fullWidth:!0,style:t}),r.a.createElement(E.a,{variant:"outlined",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u0441\u043a\u0438 \u0431\u0440\u043e\u0458",value:y,onChange:function(e){return O(e.target.value)},type:"text",fullWidth:!0,style:t})),r.a.createElement("div",{className:"InputGroups"},r.a.createElement(E.a,{variant:"outlined",label:"\u0416\u0438\u0440\u043e \u0441\u043c\u0435\u0442\u043a\u0430",value:C,onChange:function(e){return N(e.target.value)},type:"text",fullWidth:!0,style:t}),r.a.createElement(E.a,{variant:"outlined",label:"\u0414\u0430\u043d\u043e\u0447\u0435\u043d \u0431\u0440\u043e\u0458",value:I,onChange:function(e){return S(e.target.value)},type:"text",fullWidth:!0,style:t}),r.a.createElement("div",{className:"ChangeLogoInput"},r.a.createElement(E.a,{variant:"outlined",fullWidth:!0,type:"file",onChange:function(e){e.target.files[0]&&(e.target.files[0].size>5e6?l("error","\u0421\u043b\u0438\u043a\u0430\u0442\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0434\u0430 \u0431\u0438\u0434\u0435 \u043f\u043e\u0433\u043e\u043b\u0435\u043c\u0430 \u043e\u0434 5mb"):"image/png"!==e.target.files[0].type&&"image/jpeg"!==e.target.files[0].type?l("error","\u041d\u0435\u0434\u043e\u0437\u0432\u043e\u043b\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442, \u0434\u043e\u0437\u0432\u043e\u043b\u0435\u043d\u0438 \u0441\u0435 \u0441\u0430\u043c\u043e .jpeg, .jpg \u0438 .png \u0444\u043e\u0440\u043c\u0430\u0442"):P(e.target.files[0]))},helperText:"\u041b\u043e\u0433\u043e\u0442\u043e \u043d\u0430 \u0432\u0430\u0448\u0430\u0442\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0458\u0430",style:t,encType:"multipart/form-data"}),a.logo.path&&r.a.createElement("img",{src:a.logo.path,alt:"\u041b\u043e\u0433\u043e\u0442\u043e \u043d\u0430 \u0432\u0430\u0448\u0430\u0442\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0458\u0430",style:{width:"20%",height:"80%"}})),r.a.createElement(f.a,{variant:"contained",onClick:function(){c({companyName:s,address:v,tel:y,bankAccount:C,taxNumber:I},T)},fullWidth:!0},"\u0417\u0430\u0447\u0443\u0432\u0430\u0458")))}var He=a(285),Ze=a(298),Ge={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40%",bgcolor:"background.paper",border:"2px solid black",backgroundColor:"white",boxShadow:24,p:4,padding:"5%"},qe={display:"flex",flexDirection:"row",justifyContent:"space-around",paddingBottom:"5px"};function Je(e){var t=e.inputsStyle,a=e.user,c=e.flashPopUp,l=e.changePassword,o=e.changeEmail,i=e.deleteUser,s=Object(X.f)(),m=x(!1),d=Object(u.a)(m,2),b=d[0],g=d[1],h=x(!1),y=Object(u.a)(h,2),j=y[0],C=y[1],N=x(!1),k=Object(u.a)(N,2),I=k[0],S=k[1],A=x(!1),D=Object(u.a)(A,2),P=D[0],F=D[1],L=x(!1),R=Object(u.a)(L,2),z=R[0],W=R[1],V=T(""),U=Object(u.a)(V,2),M=U[0],_=U[1],B=T(""),H=Object(u.a)(B,2),Z=H[0],G=H[1],q=T(""),J=Object(u.a)(q,2),Q=J[0],$=J[1],K=Object(n.useState)(""),Y=Object(u.a)(K,2),ee=Y[0],te=Y[1],ae={cursor:"pointer"};return Object(n.useEffect)(function(){te(a.username)},[a]),r.a.createElement("div",{className:"InputRows"},r.a.createElement("div",{className:"InputGroups"},r.a.createElement(E.a,{variant:"outlined",label:"\u0421\u0442\u0430\u0440\u0430 \u043b\u043e\u0437\u0438\u043d\u043a\u0430",type:I?"text":"password",fullWidth:!0,style:t,value:M,onChange:_,InputProps:{startAdornment:r.a.createElement(v.a,{position:"start"},I?r.a.createElement(w.a,{style:ae,onClick:S}):r.a.createElement(O.a,{style:ae,onClick:S}))}}),r.a.createElement(E.a,{variant:"outlined",label:"\u041d\u043e\u0432\u0430 \u043b\u043e\u0437\u0438\u043d\u043a\u0430",type:P?"text":"password",fullWidth:!0,style:t,value:Z,onChange:G,InputProps:{startAdornment:r.a.createElement(v.a,{position:"start"},P?r.a.createElement(w.a,{style:ae,onClick:F}):r.a.createElement(O.a,{style:ae,onClick:F}))}}),r.a.createElement(E.a,{variant:"outlined",label:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438 \u043d\u043e\u0432\u0430 \u043b\u043e\u0437\u0438\u043d\u043a\u0430",type:z?"text":"password",fullWidth:!0,style:t,value:Q,onChange:$,InputProps:{startAdornment:r.a.createElement(v.a,{position:"start"},z?r.a.createElement(w.a,{style:ae,onClick:W}):r.a.createElement(O.a,{style:ae,onClick:W}))}}),r.a.createElement(f.a,{variant:"contained",fullWidth:!0,onClick:function(){Z===Q?l(M,Z):c("error","\u041b\u043e\u0437\u0438\u043d\u043a\u0438\u0442\u0435 \u043d\u0435 \u0441\u0435 \u0441\u043e\u0432\u043f\u0430\u0453\u0430\u0430\u0442,\u043e\u0431\u0438\u0434\u0435\u0442\u0435 \u0441\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e")}},"\u041f\u0440\u043e\u043c\u0435\u043d\u0438 \u043b\u043e\u0437\u0438\u043d\u043a\u0430")),r.a.createElement("div",{className:"InputGroups EmailAndUserDelete"},r.a.createElement("div",{className:"ChangeEmailDiv"},r.a.createElement(E.a,{variant:"outlined",label:"\u0415\u043c\u0430\u0438\u043b",type:"text",fullWidth:!0,style:t,value:ee,onChange:function(e){return te(e.target.value)}}),r.a.createElement(f.a,{variant:"contained",fullWidth:!0,onClick:C},"\u041f\u0440\u043e\u043c\u0435\u043d\u0438 \u0435\u043c\u0430\u0438\u043b"),r.a.createElement(He.a,{open:j},r.a.createElement(Ze.a,{style:Ge},r.a.createElement(p.a,{variant:"button"},"\u0414\u043e\u043a\u043e\u043b\u043a\u0443 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u0442\u0435 \u0441\u043e \u043f\u0440\u043e\u043c\u0435\u043d\u0430 \u043d\u0430 \u0435\u043c\u0430\u0438\u043b\u043e\u0442, \u045c\u0435 \u0442\u0440\u0435\u0431\u0430 \u0434\u0430 \u0433\u043e \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0443\u0432\u0430\u0442\u0435 \u0432\u0430\u0448\u0438\u043e\u0442 \u043d\u043e\u0432 \u0435\u043c\u0430\u0438\u043b. \u0434\u0430\u043b\u0438 \u0441\u0442\u0435 \u0441\u0438\u0433\u0443\u0440\u043d\u0438 \u0434\u0435\u043a\u0430 \u0441\u0430\u043a\u0430\u0442\u0435 \u0434\u0430 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u0442\u0435?"),r.a.createElement("div",{style:qe},r.a.createElement(f.a,{variant:"outlined",onClick:function(){o(ee),s(0)}},"\u0414\u0410"),r.a.createElement(f.a,{variant:"contained",onClick:C},"\u041d\u0415"))))),r.a.createElement("div",{className:"DeleteBtnDiv"},r.a.createElement(f.a,{variant:"contained",fullWidth:!0,onClick:g},"\u0418\u0437\u0431\u0440\u0438\u0448\u0438 \u0433\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u043e\u0442"),r.a.createElement(He.a,{open:b},r.a.createElement(Ze.a,{style:Ge},r.a.createElement(p.a,{variant:"button"},"\u0421\u043e \u0431\u0440\u0438\u0448\u0435\u045a\u0435 \u043d\u0430 \u0432\u0430\u0448\u0438\u043e\u0442 \u043f\u0440\u043e\u0444\u0438\u043b, \u0441\u0438\u0442\u0435 \u0432\u0430\u0448\u0438 \u0444\u0430\u043a\u0442\u0443\u0440\u0438 \u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0438 \u045c\u0435 \u0431\u0438\u0434\u0430\u0442 \u0438\u0437\u0431\u0440\u0438\u0448\u0430\u043d\u0438 \u043e\u0434 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0442, \u0434\u0430\u043b\u0438 \u0441\u0442\u0435 \u0441\u0438\u0433\u0443\u0440\u043d\u0438 \u0434\u0435\u043a\u0430 \u0441\u0430\u043a\u0430\u0442\u0435 \u0434\u0430 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u0442\u0435?"),r.a.createElement("div",{style:qe},r.a.createElement(f.a,{variant:"outlined",onClick:i},"\u0414\u0410"),r.a.createElement(f.a,{variant:"contained",onClick:g},"\u041d\u0415")))))))}function Qe(){var e=Object(X.f)(),t=Object(n.useState)(!0),a=Object(u.a)(t,2),c=a[0],l=a[1],o=Object(n.useContext)(P),i=o.flashPopUp,s=o.user,m=o.changeUserData,p={margin:"5px"};return r.a.createElement("div",{className:"Settings"},r.a.createElement(_e.a,{variant:"contained",style:{width:"80%"},fullWidth:!0,"aria-label":"outlined primary button group"},r.a.createElement(f.a,{style:{backgroundColor:c?"#FFC101":"#1976D2"},onClick:function(){l(!0)}},"\u041f\u043e\u0434\u0430\u0442\u043e\u0446\u0438 \u0437\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0458\u0430\u0442\u0430"),r.a.createElement(f.a,{style:{backgroundColor:c?"#1976D2":"#FFC101"},onClick:function(e){l(!1)}},"\u041f\u0440\u043e\u043c\u0435\u043d\u0438 \u043b\u043e\u0437\u0438\u043d\u043a\u0430 \u0438 \u0435\u043c\u0430\u0438\u043b")),c?r.a.createElement(Be,{inputsStyle:p,user:s,submit:function(e,t){d.a.post("/api/addimage/".concat(s._id),{image:t},{headers:{"content-type":"multipart/form-data"}}),d.a.post("/api/companyinfo/".concat(s._id),{data:e}).then(function(e){i("success",e.data.msg)}).catch(function(e){i("error",e.reponse.data.msg)}),m()},flashPopUp:i}):r.a.createElement(Je,{inputsStyle:p,user:s,flashPopUp:i,changePassword:function(e,t){var a={oldPass:e,newPass:t};d.a.post("/api/changepass/".concat(s._id),a).then(function(e){return i("success",e.data.msg)}).catch(function(e){return i("error",e.response.data.msg)})},changeEmail:function(e){var t={email:e};d.a.post("/api/changeemail/".concat(s._id),t).then(function(e){return i("success",e.data.msg)}).catch(function(e){return i("error",e.response.data.msg)})},deleteUser:function(){d.a.post("/api/deleteuser/".concat(s._id)).then(function(t){i("success",t.data.msg),e(0)}).catch(function(e){return i("error",e.response.data.msg)})}}))}a(208);var $e=a(180),Ke=a.n($e);function Xe(){var e={textDecoration:"none",color:"white",fontSize:"0.6em"};return r.a.createElement("div",{className:"PageFooter"},r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"DevelopedByDiv"},r.a.createElement(p.a,{variant:"button",style:e},"Developed by"),r.a.createElement(b.a,{href:"https://www.atanasov.fi",target:"_blank",varian:"button",style:{textDecoration:"none",color:"white"}},r.a.createElement("img",{src:Ke.a,className:"AtanasovFooterLogo",alt:"Atanasov Logo"}))),r.a.createElement(p.a,{component:K.b,to:"/usagepolicy",varian:"button",style:e},"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u0437\u0430 \u043a\u043e\u0440\u0438\u0441\u0442\u0435\u045a\u0435")))}function Ye(){var e={paddingTop:"5px",paddingBottom:"5px"};return r.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{style:{width:"80%",display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"}},r.a.createElement(p.a,{variant:"h5"},"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u0437\u0430 \u043a\u043e\u0440\u0438\u0441\u0442\u0435\u045a\u0435 \u043d\u0430 \u0430\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0458\u0430\u0442\u0430"),r.a.createElement(p.a,{variant:"subtitle1",style:e},r.a.createElement("p",null,"1. Invoice \u0435 \u043e\u0442\u0432\u043e\u0440\u0435\u043d \u043f\u0440\u043e\u0435\u043a\u0442, \u0438 \u043a\u043e\u0434\u043e\u0442 \u0437\u0430 \u0438\u0441\u0442\u0438\u043e\u0442 \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u0430 \u0433\u043e \u043d\u0430\u0458\u0434\u0435\u0442\u0435 \u043e\u0432\u0434\u0435: ",r.a.createElement(b.a,{target:" _blank",href:"https://github.com/stefanatanasovmk/faktura"},"\u043b\u0438\u043d\u043a"),".")),r.a.createElement(p.a,{variant:"subtitle1",style:e},r.a.createElement("p",null,"2. Invoice \u0435 \u043b\u0438\u0447\u0435\u043d \u043f\u0440\u043e\u0435\u043a\u0442 \u0440\u0430\u0431\u043e\u0442\u0435\u043d \u0432\u043e \u0441\u043b\u043e\u0431\u043e\u0434\u043d\u043e \u0432\u0440\u0435\u043c\u0435 \u0441\u043e \u0446\u0435\u043b \u043f\u043e\u0434\u043e\u0431\u0440\u043e \u0434\u0430 \u0441\u0435 \u0440\u0430\u0437\u0431\u0435\u0440\u0430\u0442 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438\u0442\u0435 \u043a\u0430\u043a\u043e React, ExpressJS, MongoDB, MUI \u0438 \u0441\u043b\u0438\u0447\u043d\u0438.")),r.a.createElement(p.a,{variant:"subtitle1",style:e},r.a.createElement("p",null,"3. Invoice \u043d\u0435 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0430 \u0437\u0430 \u0431\u0435\u0437\u0431\u0435\u0434\u043d\u043e\u0441\u0442\u0430 \u043d\u0430 \u0432\u0430\u0448\u0438\u0442\u0435 \u043b\u0438\u0447\u043d\u0438 \u043f\u043e\u0434\u0430\u0442\u043e\u0446\u0438 \u0438 \u0442\u0438\u0435 \u043d\u0430 \u0432\u0430\u0448\u0430\u0442\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0458\u0430. \u041e\u0432\u0430 \u0435 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u0435\u043d \u0441\u0435\u0440\u0432\u0438\u0441, \u0438\u0437\u0440\u0430\u0431\u043e\u0442\u0435\u043d \u0432\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0441\u043a\u0438 \u0438 \u043d\u0435 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0430 \u0434\u0435\u043a\u0430 \u043f\u043e\u0434\u0430\u0442\u043e\u0446\u0438\u0442\u0435 \u0448\u0442\u043e \u0433\u0438 \u0432\u043d\u0435\u0441\u0443\u0432\u0430\u0442\u0435 \u0432\u043e \u0441\u043e\u0444\u0442\u0432\u0435\u0440\u043e\u0442 \u0441\u0435 100% \u0431\u0435\u0437\u0431\u0435\u0434\u043d\u0438.")),r.a.createElement(p.a,{variant:"subtitle1",style:e},r.a.createElement("p",null,"4. \u0421\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0435\u045a\u0435 \u043d\u0430 \u043e\u0432\u043e\u0458 \u0441\u043e\u0444\u0442\u0432\u0435\u0440, \u0441\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u0432\u0430\u0442\u0435 \u0434\u0435\u043a\u0430 \u0441\u0442\u0435 \u0458\u0430 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043b\u0435 \u0438 \u0440\u0430\u0437\u0431\u0440\u0430\u043b\u0435 \u201e\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430\u0442\u0430 \u0437\u0430 \u043a\u043e\u0440\u0438\u0441\u0442\u0435\u045a\u0435\u201c \u0438 \u0441\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u0432\u0430\u0442\u0435 \u0441\u043e \u0438\u0441\u0442\u0430\u0442\u0430.")),r.a.createElement(p.a,{variant:"subtitle1",style:e},r.a.createElement("p",null,"- \u0414\u043e\u043a\u043e\u043b\u043a\u0443 \u0438\u043c\u0430\u0442\u0435 \u043f\u0440\u0430\u0448\u0430\u045a\u0430 \u0438\u043b\u0438 \u0438\u0434\u0435\u0438 \u0437\u0430 \u043f\u043e\u0434\u043e\u0431\u0440\u0443\u0432\u0430\u045a\u0435 \u043d\u0430 \u0441\u043e\u0444\u0442\u0435\u0440\u043e\u0442 \u0432\u0435 \u043c\u043e\u043b\u0430\u043c \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438\u0440\u0430\u0458\u0442\u0435 \u043c\u0435 \u043d\u0430 \u043c\u043e\u0458\u043e\u0442 \u0435\u043c\u0430\u0438\u043b atanasovstefan@hotmail.com"))))}a(210);function et(){return r.a.createElement("div",{className:"ErrorPage"},r.a.createElement("div",{className:"ErrorDiv"},r.a.createElement(p.a,{variant:"h1"},"404"),r.a.createElement(p.a,{variant:"button"},"\u041e\u0432\u0434\u0435 \u043d\u0435\u043c\u0430 \u0448\u0442\u043e \u0434\u0430 \u0441\u0435 \u0432\u0438\u0434\u0438..."),r.a.createElement(f.a,{component:K.b,to:"/",variant:"contained"},"\u0415\u043b\u0430 \u0441\u0438 \u043d\u0430 \u043f\u043e\u0447\u0435\u0442\u043d\u0430")))}var tt=a(181),at=a.n(tt),nt=a(182),rt=a.n(nt),ct=a(219),lt=a(288);function ot(e){var t=e.flash,a=t.isOn,c=t.type,l=t.msg,o=Object(n.useContext)(P).user,i={width:"20%",height:"80%"},s=Object(n.useState)(null),m=Object(u.a)(s,2),d=m[0],E=m[1],v=Boolean(d),b=function(){E(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,null,r.a.createElement("div",{className:"NavBar"},r.a.createElement("div",{className:"HamburgerMenu"},r.a.createElement(rt.a,{id:"basic-button","aria-controls":v?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":!!v||void 0,onClick:function(e){E(e.currentTarget)},className:"HamburgerMenuIcon"}),r.a.createElement(ct.a,{id:"basic-menu",anchorEl:d,open:v,onClose:b,MenuListProps:{"aria-labelledby":"basic-button"}},r.a.createElement(lt.a,{component:K.b,onClick:b,to:"/"},r.a.createElement(U.a,null,r.a.createElement($.a,null)),r.a.createElement(M.a,null,"\u041c\u043e\u0438 \u0444\u0430\u043a\u0442\u0443\u0440\u0438")),r.a.createElement(lt.a,{component:K.b,onClick:b,to:"/invoice"},r.a.createElement(U.a,null,r.a.createElement(G.a,null)),r.a.createElement(M.a,null,"\u041d\u043e\u0432\u0430 \u0444\u0430\u043a\u0442\u0443\u0440\u0430")),r.a.createElement(lt.a,{component:K.b,onClick:b,to:"/settings"},r.a.createElement(U.a,null,r.a.createElement(H.a,null)),r.a.createElement(M.a,null,"\u041f\u043e\u0441\u0442\u0430\u0432\u043a\u0438")),r.a.createElement(lt.a,{onClick:Ue},r.a.createElement(U.a,null,r.a.createElement(J.a,null)),r.a.createElement(M.a,null,"\u041e\u0434\u0458\u0430\u0432\u0438 \u0441\u0435")))),r.a.createElement("div",{className:"Logo"},r.a.createElement(K.b,{to:"/"},r.a.createElement("img",{src:at.a,height:"50px",alt:"logo"}))),r.a.createElement("div",{className:"NavLink"},r.a.createElement(f.a,{component:K.b,to:"/",variant:"outlined",style:i,size:"small",startIcon:r.a.createElement($.a,null)},r.a.createElement(p.a,{noWrap:!0,fontSize:"0.9em",align:"center"},"\u041c\u043e\u0438 \u0444\u0430\u043a\u0442\u0443\u0440\u0438")),r.a.createElement(f.a,{variant:"outlined",style:i,size:"small",component:K.b,to:"/invoice",startIcon:r.a.createElement(G.a,null)},r.a.createElement(p.a,{noWrap:!0,fontSize:"0.9em",align:"center"},"\u041d\u043e\u0432\u0430 \u0444\u0430\u043a\u0442\u0443\u0440\u0430")),r.a.createElement(f.a,{variant:"outlined",style:i,size:"small",component:K.b,to:"/settings",startIcon:r.a.createElement(H.a,null)},r.a.createElement(p.a,{noWrap:!0,fontSize:"0.9em",align:"center"},"\u041f\u043e\u0441\u0442\u0430\u0432\u043a\u0438")),r.a.createElement(f.a,{onClick:Ue,variant:"outlined",style:i,size:"small",startIcon:r.a.createElement(J.a,null)},r.a.createElement(p.a,{noWrap:!0,fontSize:"0.9em",align:"center"},"\u041e\u0434\u0458\u0430\u0432\u0438 \u0441\u0435"))),r.a.createElement(_.a,{component:K.b,to:"/settings",alt:"company logo",src:o.logo.path})),r.a.createElement("div",{className:"Flash"},a&&r.a.createElement(L,{type:c,msg:l})),r.a.createElement(X.c,null,r.a.createElement(X.a,{path:"/",element:r.a.createElement(Ee,null)}),r.a.createElement(X.a,{path:"/invoice",element:r.a.createElement(Ve,null)}),r.a.createElement(X.a,{path:"/invoice/:id",element:r.a.createElement(Ve,null)}),r.a.createElement(X.a,{path:"/settings",element:r.a.createElement(Qe,null)}),r.a.createElement(X.a,{path:"/loginsignup",element:r.a.createElement(V,null)}),r.a.createElement(X.a,{path:"/verify",element:r.a.createElement(Me,null)}),r.a.createElement(X.a,{path:"/usagepolicy",element:r.a.createElement(Ye,null)}),r.a.createElement(X.a,{path:"*",element:r.a.createElement(et,null)})),r.a.createElement(Xe,null)))}a(214);var it=function(){var e=Object(n.useState)({status:"no"}),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({isOn:!1,type:"",msg:""}),o=Object(u.a)(l,2),m=o[0],p=o[1],E=Object(n.useCallback)(function(e,t){p({isOn:!0,type:e,msg:t}),setTimeout(function(){p({isOn:!1,type:"",msg:""})},5e3)},[]),v=Object(n.useState)(!1),f=Object(u.a)(v,2),b=f[0],g=f[1],h=Object(n.useState)({}),y=Object(u.a)(h,2),O=y[0],j=y[1];return Object(n.useEffect)(function(){function e(){return(e=Object(s.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d.a.get("/api/isauthenticated").then(function(e){g(e.data.status),e.data.status&&j(e.data.user)}).catch(function(e){return E("error","\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 \u0441\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0442, \u0432\u0435 \u043c\u043e\u043b\u0438\u043c\u0435 \u043e\u0431\u0438\u0434\u0435\u0442\u0435 \u0441\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e.")});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[a],[]),r.a.createElement("div",{className:"App"},r.a.createElement(P.Provider,{value:{isAuthenticated:b,user:O,flashPopUp:E,changeUserData:function(){c({status:"yes"}),setTimeout(function(){c({status:"no"})},5e3)}}},b?O.verified?r.a.createElement(ot,{isVerified:O.verified,isAuthenticated:b,flash:m}):r.a.createElement(Me,{flash:m}):r.a.createElement(V,{flash:m})))};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(it,null)))}},[[129,2,1]]]);
//# sourceMappingURL=main.966896fc.chunk.js.map